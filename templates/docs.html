{% extends "base.html" %}

{% block title %}
Docs ‚Ä¢ DevOps Notes Manager
{% endblock %}

{% block content %}

<section class="page-section">
  <div class="page-header">
    <h1>üìñ Documentation</h1>
    <p>How this application works and how to run it.</p>
  </div>

  <div class="features" style="max-width: 1200px; margin: 0 auto;">
    <div class="feature-card">
      <h3>üíª Local Setup</h3>
      <div class="description">
        <p><strong>Prerequisites:</strong></p>
        <ul>
          <li>Python 3.8+</li>
          <li>MySQL 8.0+ (or use Docker for MySQL)</li>
          <li>pip (Python package manager)</li>
        </ul>
        
        <p><strong>Steps:</strong></p>
        <ol>
          <li>Clone the repository</li>
          <li>Create a virtual environment: <code>python -m venv venv</code></li>
          <li>Activate the virtual environment:
            <ul>
              <li>Windows: <code>venv\Scripts\activate</code></li>
              <li>Linux/Mac: <code>source venv/bin/activate</code></li>
            </ul>
          </li>
          <li>Install dependencies: <code>pip install -r requirements.txt</code></li>
          <li>Create a <code>.env</code> file with database credentials</li>
          <li>Set up the MySQL database and create the notes table</li>
          <li>Run the Flask app: <code>python app.py</code></li>
          <li>Access the application at <code>http://localhost:5000</code></li>
        </ol>
      </div>
    </div>

    <div class="feature-card">
      <h3>üê≥ Docker Setup</h3>
      <div class="description">
        <p><strong>Prerequisites:</strong></p>
        <ul>
          <li>Docker Desktop installed</li>
          <li>Docker Compose (included with Docker Desktop)</li>
        </ul>
        
        <p><strong>Quick Start:</strong></p>
        <ol>
          <li>Create a <code>.env</code> file in the project root with:
            <pre><code>DB_HOST=mysql
DB_USER=root
DB_PASSWORD=rootpassword
DB_NAME=devops_notes
MYSQL_ROOT_PASSWORD=rootpassword</code></pre>
          </li>
          <li>Build and start containers:
            <pre><code>docker compose up --build</code></pre>
          </li>
          <li>Initialize the database (one-time setup):
            <pre><code>docker exec -it devops-mysql mysql -uroot -prootpassword devops_notes</code></pre>
            Then run:
            <pre><code>CREATE TABLE notes (
  id INT AUTO_INCREMENT PRIMARY KEY,
  command VARCHAR(255) NOT NULL,
  description TEXT NOT NULL,
  category VARCHAR(50),
  tags VARCHAR(255),
  example TEXT,
  created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
  updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP
);</code></pre>
          </li>
          <li>Access the application at <code>http://localhost:5000</code></li>
        </ol>
        
        <p><strong>Useful Commands:</strong></p>
        <ul>
          <li>Stop containers: <code>docker compose down</code></li>
          <li>Stop and remove volumes: <code>docker compose down -v</code></li>
          <li>View logs: <code>docker compose logs -f</code></li>
          <li>Rebuild after changes: <code>docker compose up --build</code></li>
        </ul>
      </div>
    </div>

    <div class="feature-card">
      <h3>‚öôÔ∏è DevOps Concepts Practiced</h3>
      <div class="description">
        <p><strong>This project demonstrates:</strong></p>
        <ul>
          <li><strong>Containerization:</strong> Application and database run in isolated Docker containers</li>
          <li><strong>Service Orchestration:</strong> Docker Compose manages multi-container setup</li>
          <li><strong>Environment Variables:</strong> Secure configuration using <code>.env</code> files</li>
          <li><strong>Persistent Storage:</strong> Docker volumes for database data persistence</li>
          <li><strong>Service Discovery:</strong> Containers communicate via Docker network</li>
          <li><strong>Separation of Concerns:</strong> Web and database layers are separate services</li>
          <li><strong>Container Networking:</strong> Services communicate using service names</li>
          <li><strong>Build Optimization:</strong> Multi-stage builds and <code>.dockerignore</code> usage</li>
        </ul>
      </div>
    </div>

    <div class="feature-card">
      <h3>üìù Application Features</h3>
      <div class="description">
        <p><strong>Core Functionality:</strong></p>
        <ul>
          <li>Create, Read, Update, Delete (CRUD) operations for DevOps notes</li>
          <li>Rich text editor for descriptions and examples</li>
          <li>Category-based organization (Docker, Kubernetes, Linux, CI/CD, AWS, Monitoring)</li>
          <li>Tag system for flexible categorization</li>
          <li>Search functionality across commands, descriptions, and tags</li>
          <li>Sorting options (newest, oldest, category, alphabetical)</li>
          <li>Grid and list view modes</li>
          <li>Copy command functionality</li>
          <li>Responsive design for mobile and desktop</li>
        </ul>
      </div>
    </div>

    <div class="feature-card">
      <h3>üóÑÔ∏è Database Schema</h3>
      <div class="description">
        <p>The application uses a MySQL database with the following table structure:</p>
        <pre><code>CREATE TABLE notes (
  id INT AUTO_INCREMENT PRIMARY KEY,
  command VARCHAR(255) NOT NULL,
  description TEXT NOT NULL,
  category VARCHAR(50),
  tags VARCHAR(255),
  example TEXT,
  created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
  updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP
);</code></pre>
        <p><strong>Fields:</strong></p>
        <ul>
          <li><code>id</code>: Primary key, auto-incrementing</li>
          <li><code>command</code>: The DevOps command or operation name</li>
          <li><code>description</code>: Detailed explanation (HTML formatted)</li>
          <li><code>category</code>: Predefined category for organization</li>
          <li><code>tags</code>: Comma-separated tags for flexible searching</li>
          <li><code>example</code>: Example usage or code snippets (HTML formatted)</li>
          <li><code>created_at</code>: Timestamp when note was created</li>
          <li><code>updated_at</code>: Timestamp when note was last modified</li>
        </ul>
      </div>
    </div>

    <div class="feature-card">
      <h3>üîß Configuration</h3>
      <div class="description">
        <p><strong>Environment Variables (.env file):</strong></p>
        <pre><code># Database Configuration
DB_HOST=mysql          # Database hostname (use 'mysql' for Docker, 'localhost' for local)
DB_USER=root           # MySQL username
DB_PASSWORD=rootpassword  # MySQL password
DB_NAME=devops_notes   # Database name
MYSQL_ROOT_PASSWORD=rootpassword  # MySQL root password (for Docker)</code></pre>
        
        <p><strong>Important Notes:</strong></p>
        <ul>
          <li>Never commit the <code>.env</code> file to version control</li>
          <li>Use different credentials for production environments</li>
          <li>For Docker setup, <code>DB_HOST</code> should be the service name from <code>docker-compose.yml</code></li>
          <li>For local setup, use <code>localhost</code> or <code>127.0.0.1</code> as <code>DB_HOST</code></li>
        </ul>
      </div>
    </div>

    <div class="feature-card">
      <h3>üöÄ Future Enhancements</h3>
      <div class="description">
        <p>Planned features and improvements:</p>
        <ul>
          <li>Automatic database table creation on first run</li>
          <li>Pagination for large datasets</li>
          <li>User authentication and role-based access</li>
          <li>Export/import functionality (JSON, CSV)</li>
          <li>Production server using Gunicorn</li>
          <li>CI/CD pipeline with GitHub Actions</li>
          <li>Cloud deployment (AWS, Azure, GCP)</li>
          <li>API endpoints for programmatic access</li>
          <li>Dark mode theme</li>
          <li>Advanced search with filters</li>
        </ul>
      </div>
    </div>
  </div>
</section>

{% endblock %}
